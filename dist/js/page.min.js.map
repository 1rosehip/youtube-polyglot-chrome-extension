{"version":3,"file":"page.min.js","sources":["../../src/js/page/page.jsx","../../src/js/page/index.jsx"],"sourcesContent":["import { h } from 'preact';\n\nexport default class Page extends React.Component{\n\n    /**\n     * render the component\n     * @return {string}\n     */\n    render(){\n\n        return (\n            <div>TEST</div>\n        );\n    }\n}","import { h } from 'preact';\nimport Page from './page.jsx';\n\n/* ========================= GLOBALS ========================= */\nlet loadTries = 0;\nconst LOAD_TRIES_MAX = 10;\nconst loadStep = 1000;\n\n/**\n * check if the page is already available\n * @param {Function} callback\n */\nconst checkIfPageAvailable = (callback) => {\n\n    const info = document.getElementById('info');\n\n    if(info){\n        callback(true);\n    }\n    else{\n        if(loadTries < LOAD_TRIES_MAX){\n\n            window.setTimeout(function(){\n\n                loadTries++;\n\n                checkIfPageAvailable(callback);\n            }, loadStep);\n        }\n        else{\n            callback(false);\n        }\n    }\n};\n\n/**\n * get query string params\n * @param {string} name\n * @param {string} url\n * @returns {*}\n * Usage:\n * query string: ?foo=lorem&bar=&baz\n * var foo = getParameterByName('foo'); // \"lorem\"\n * var bar = getParameterByName('bar'); // \"\" (present with empty value)\n * var baz = getParameterByName('baz'); // \"\" (present with no value)\n * var qux = getParameterByName('qux'); // null (absent)\n */\nconst getParameterByName = (name, url) => {\n\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n};\n\n/**\n * on window load\n */\nwindow.onload = () => {\n\n    //chrome.storage.sync.clear();\n    //chrome.storage.local.clear();\n\n    /**\n     * param {boolean} isAvailable\n     */\n    checkIfPageAvailable(function(isAvailable){\n\n        if(isAvailable){\n\n            var youtubeID = getParameterByName('v');\n\n            if(youtubeID) {\n\n                const related = document.getElementById('related');\n                const page = document.createElement('div');\n                related.insertBefore(page, related.firstChild);\n\n                window.wishlist = ReactDOM.render(\n                    <Page />,\n                    page\n                );\n            }\n        }\n    });\n\n\n};"],"names":["Page","React","Component","h","loadTries","window","onload","checkIfPageAvailable","callback","document","getElementById","setTimeout","isAvailable","name","url","location","href","replace","results","RegExp","exec","decodeURIComponent","getParameterByName","related","page","createElement","insertBefore","firstChild","wishlist","ReactDOM","render"],"mappings":"shBAEqBA,qbAAaC,MAAMC,sDAS5BC,gCCPRC,EAAY,EAyDhBC,OAAOC,OAAS,YAjDa,SAAvBC,EAAwBC,GAEbC,SAASC,eAAe,WAGxB,GAGNN,EAfY,UAiBJO,WAAW,iBAIOH,IApBpB,QAwBI,IAuCI,SAASI,MAEvBA,GAxBgB,SAACC,EAAMC,GAEzBA,IAAKA,EAAMT,OAAOU,SAASC,QACzBH,EAAKI,QAAQ,UAAW,YAE3BC,EADQ,IAAIC,OAAO,OAASN,EAAO,qBACnBO,KAAKN,UACpBI,EACAA,EAAQ,GACNG,mBAAmBH,EAAQ,GAAGD,QAAQ,MAAO,MAD5B,GADH,KAoBGK,CAAmB,KAErB,KAEJC,EAAUd,SAASC,eAAe,WAClCc,EAAOf,SAASgB,cAAc,SAC5BC,aAAaF,EAAMD,EAAQI,mBAE5BC,SAAWC,SAASC,OACvB3B,IAACH,QACDwB"}